// LMS -- elements -- navigation
// ====================

// in this document:
// --------------------
// +notes
// +skip navigation
// +utility navigation
// +toggling utilities
// +case - calculator spacing

// +notes:
// --------------------
// this Sass partial should have its contents eventually abstracted out so that onboarding/non-coureware navigation is separate from in course-based navigation systems


// +skip navigation
// --------------------
%nav-skip {
  @extend %text-sr;
}

.nav-contents, .nav-skip {
  @extend %nav-skip;
}

// +utility navigation (course utiltiies)
// --------------------
.nav-utilities {
  @extend %ui-depth3;
  position: fixed;
  right: ($baseline/4);
  bottom: 0;

  .wrapper-utility {
    @extend %wipe-last-child;
    display: inline-block;
    vertical-align: bottom;
    @include margin-right(6px);
  }

  .utility-control {
    @include transition(background-color $tmg-f2 ease-in-out 0s, color $tmg-f2 ease-in-out 0s);
    position: relative;
    bottom: -($baseline/5);
    display: inline-block;
    vertical-align: middle;
    padding: ($baseline/2) ($baseline*0.75) ($baseline*0.75) ($baseline*0.75);
    background: $black-t1;
    color: $white;

    // STATE: hover/active
    &:hover, &:active {
      background: $gray-d1;
    }

    // STATE: is active/in use
    &.is-active {
      background: $gray-d1;
    }
  }

  // specific reset styling for any controls that are button elements
  .utility-control-button {
    border: none;
    box-shadow: none;
    text-shadow: none;
    font-size: inherit;
    font-weight: inherit;
    line-height: 0;
    border-radius: 0;

    // STATE: hover/active
    &:hover, &:active, &:focus {
      border: none;
      box-shadow: none;
    }
  }

  // specific utility navigation - student notes toggling
  .action-toggle-notes {
    @extend %no-outline;

    // STATE: is active/in use
    &.is-active {
      color: $student-notes-highlight-color-base;
    }
  }

  // +toggling utilities
  // --------------------
  .action-toggle-message {
    @extend %t-title8;
    @extend %t-strong;
    position: absolute;
    bottom: 0;
    @include right($baseline*2.5);
    display: inline-block;
    min-width: ($baseline*5);
    padding: ($baseline/2) ($baseline*0.75);
    opacity: 0;
    background-color: $gray-d1;
    color: $white;
    text-align: center;

    // STATE: is fleeting/temporary
    &.is-fleeting {
      @include animation(pulse-out $tmg-s2 ease-in-out);
    }
  }

  // +case - calculator spacing (needed for overriding calculator positioning)
  // --------------------
  &.has-utility-calculator {
    @include right($baseline*2.50);
  }
}


%pagination {
  @include clearfix();
  display: inline-block;
  width: flex-grid(3, 12);

  &.pagination-compact {
    @include text-align(right);
  }

  &.pagination-full {
    display: block;
    width: flex-grid(4, 12);
    margin: $baseline auto;
  }

  .nav-item {
    position: relative;
    display: inline-block;
    vertical-align: middle;
  }

  .nav-link {
    @include transition(all $tmg-f2 ease-in-out 0s);
    @extend %t-copy-lead2;
    display: block;
    border: 0;
    padding: ($baseline/4) ($baseline*0.75);
    background: transparent none;

    &.previous {
      margin-right: ($baseline/2);
    }

    &.next {
      margin-left: ($baseline/2);
    }

    &:hover {
      background-color: $blue;
      border-radius: 3px;
      color: $white;
    }

    &:active {
      box-shadow: none;
    }

    &.is-disabled {
      background-color: transparent;
      color: $gray-l2;
      pointer-events: none;
    }
  }

  .nav-label {
    @extend %text-sr;
  }

  .pagination-form,
  .current-page,
  .page-divider,
  .total-pages {
    display: inline-block;
  }

  .current-page,
  .page-number-input,
  .total-pages {
    @extend %t-copy-base;
    @extend %t-strong;
    width: ($baseline*2.5);
    margin: 0 ($baseline*0.75);
    padding: ($baseline/4);
    text-align: center;
    color: $gray;
    vertical-align: baseline;
  }

  .current-page {
    @extend %ui-depth1;
    position: absolute;
    @include left(-($baseline/4));
  }

  .page-divider {
    @extend %t-title4;
    @extend %t-regular;
    vertical-align: middle;
    color: $gray-l2;
  }

  .pagination-form {
    @extend %ui-depth2;
    position: relative;

    .page-number-label,
    .submit-pagination-form {
      @extend %text-sr;
    }

    .page-number-input {
      @include transition(all $tmg-f2 ease-in-out 0s);
      border: 1px solid transparent;
      border-bottom: 1px dotted $gray-l2;
      border-radius: 0;
      box-shadow: none;
      background: none;

      &:hover {
        background-color: $white;
        opacity: 0.6;
      }

      &:focus {
        opacity: 1.0;
        box-shadow: 0 0 3px $shadow-d1 inset;
        background-color: $white;
        border: 1px solid transparent;
        border-radius: 3px;
      }
    }
  }
}

%toggle-container {
  padding: .5em 0;
  .toggle-menu {
    margin: 0;
    padding: 0;
    list-style: none;
    text-indent: 0;
    border-bottom: .25rem solid $gray-l4;
    @include clearfix();

    .toggle-switch {
      @include float(left);
      position: relative;
      bottom: -(spacing-vertical(xx-small));
      margin-bottom: -.25rem;
      button.toggle-button {
        @extend %t-copy-base;
        display: block;
        margin: 0;
        border: 0 solid $transparent;
        border-bottom-width: .25rem;
        border-radius: 0;
        font-weight: normal;
        background: $transparent;
        padding-bottom: ($baseline*.75);
        color: $blue-s1;

        &:focus {
          border-bottom-color: $blue-s1;
          color: $blue-s1;
          box-shadow: none;
          outline: none;
        }
        &:hover {
          color: $black;
          border-bottom-color: $black;
        }
        &:active {
          background: transparent;
          box-shadow: none;
          outline: none;
        }
        &.is-active {
          @extend %t-strong;
          border-bottom-color: $blue-s1;
          color: $black;
        }
      }
    }
  }
}